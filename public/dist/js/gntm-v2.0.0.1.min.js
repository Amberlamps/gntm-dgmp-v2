!function e(t,o,n){function r(a,i){if(!o[a]){if(!t[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=o[a]={exports:{}};t[a][0].call(c.exports,function(e){var o=t[a][1][e];return r(o?o:e)},c,c.exports,e,t,o,n)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e){e("./components").Login,e("./router.js")},{"./components":2,"./router.js":13}],2:[function(e,t){t.exports.Login=e("./login.js")},{"./login.js":3}],3:[function(e,t){function o(){location.href="/login"}function n(e){swal({title:"Oops...",text:e.responseJSON.message,type:"error"})}t.exports={path:"/login",onSuccess:o,onError:n}},{}],4:[function(e,t){var o={client:{api:{path:"api",version:1}}};t.exports=o},{}],5:[function(e,t){t.exports.IndexPage=e("./indexPage.js"),t.exports.LeaguesPage=e("./leaguesPage.js"),t.exports.LoginPage=e("./loginPage.js"),t.exports.LogoutPage=e("./logoutPage.js"),t.exports.ModelsPage=e("./modelsPage.js"),t.exports.Page=e("./page.js"),t.exports.RulebooksPage=e("./rulebooksPage.js")},{"./indexPage.js":6,"./leaguesPage.js":7,"./loginPage.js":8,"./logoutPage.js":9,"./modelsPage.js":10,"./page.js":11,"./rulebooksPage.js":12}],6:[function(e,t){!function(){"use strict";function o(e,t){this.path=e,this.params=t,n.call(this)}var n=e("./page.js");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.render=function(e,t,o){o(null,this.container)},t.exports=o}()},{"./page.js":11}],7:[function(e,t){!function(){"use strict";function o(e,t){this.path=e,this.params=t,n.call(this)}var n=e("./page.js");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.render=function(e,t,o){o(null,this.container)},t.exports=o}()},{"./page.js":11}],8:[function(e,t){var o=function(){"use strict";function t(){$(".page-login").find(".login").find("form").on("submit",s),$(".page-login").find(".register").find("form").on("submit",o)}function o(e){var t={name:this.elements.name.value,password:this.elements.password.value,passwordwdh:this.elements.passwordwdh.value,email:this.elements.email.value};return $.ajax({type:"post",url:p,data:t,dataType:"json",success:n,error:r}),e.preventDefault(),!1}function n(){swal({title:"Registrierung erfolgreich!",text:"SchlieÃŸe dich einer Liga an und werde Manager.",type:"success"},function(){location.href="/"})}function r(){swal({title:"Registrierung fehlgeschlagen!",text:"Bei den Anmeldedaten stimmt etwas nicht.",type:"error"})}function s(e){var t={email:this.elements.email.value,password:this.elements.password.value};return $.ajax({type:"post",url:"/login",data:t,dataType:"json",success:a,error:i}),e.preventDefault(),!1}function a(){location.href="/"}function i(e){swal({title:"Oops...",text:e.responseJSON.message,type:"error"})}var u=e("../config.js"),p=["",u.client.api.path,u.client.api.version,"users"].join("/");return t}();t.exports=o},{"../config.js":4}],9:[function(e,t){function o(){location.href="/"}function n(e){console.log(e.responseJSON)}t.exports={path:"/logout",onSuccess:o,onError:n}},{}],10:[function(e,t){!function(){"use strict";function o(e,t){this.path=e,this.params=t,n.call(this)}var n=e("./page.js");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.render=function(e,t,o){o(null,this.container)},t.exports=o}()},{"./page.js":11}],11:[function(e,t){!function(){"use strict";function e(){this.container=$(".mainpage")}e.prototype.init=function(e){function t(t,o,r){n.container.html(t),n.render(t,r,e)}function o(t,o,r){swal({title:"Oops...",text:r,type:"error"}),"[object Function]"===Object.prototype.toString.call(n.error)?n.error(t,o,r):e(t)}var n=this;$.ajax({type:"get",url:this.path,success:t,error:o})},t.exports=e}()},{}],12:[function(e,t){!function(){"use strict";function o(e,t){this.path=e,this.params=t,n.call(this)}var n=e("./page.js");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.render=function(e,t,o){o(null,this.container)},t.exports=o}()},{"./page.js":11}],13:[function(e,t){"use strict";function o(e){var t=[];return e="^"+e+"$",e=e.replace(/(:.*?)(\?|\$|\/)/g,function(e,o,n){return t.push(o.substr(1)),"(.*?)"+n}),{path:e,lookup:t}}function n(e,t){if(e!==m){console.log(e);for(var o=0,n=d.length;n>o;o++){var s=d[o],i=e.match(s.route);if(i){var u={};s.lookup.forEach(function(e,t){var o=i[t+1];o&&("/"===o.charAt(o.length-1)&&(o=o.substr(0,o.length-1)),u[e]=o)}),NProgress.start();var p=new s.page(e,u);p.init(function(o,n){return NProgress.done(),o?!1:(m=e,t&&a(e),void r(null,n))});break}}}}function r(e,t){t.find("a").click(s)}function s(e){e.preventDefault();var t=this.pathname;"/"!==t.charAt(t.length-1)&&(t+="/"),n(t,!0)}var a,i,u=e("./config.js"),p=e("./pages").IndexPage,c=e("./pages").LeaguesPage,l=e("./pages").LoginPage,g=e("./pages").LogoutPage,f=e("./pages").ModelsPage,h=e("./pages").RulebooksPage,d=(["",u.client.api.path,u.client.api.version,"users"].join("/"),[]),j={"/":p,"/leagues/:leagueId?":c,"/login/":l,"/logout":g,"/models/:modelId?":f,"/rulebooks/:rulebookId?":h},m=location.pathname;for(var v in j){var x=j[v],y=o(v);d.push({route:new RegExp(y.path),lookup:y.lookup,page:x})}history.pushState?(a=function(e){history.pushState(null,null,e)},i=function(){n(location.pathname)},window.setTimeout(function(){$(window).on("popstate",i)},1e3)):(a=function(e){location.hash="!"+e},i=function(){n(location.hash.substr(2))},location.hash&&i(),$(window).on("hashchange",i)),r(null,$("body")),t.exports=1},{"./config.js":4,"./pages":5}]},{},[1]);
//# sourceMappingURL=gntm-v2.0.0.1.min.js.map